<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√âtape 6 - Fournitures scolaires - √âcole La Victoire</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/bilingual.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo-section">
                <div class="logo-icon">üéì</div>
                <div class="logo-text">
                    <div class="logo-title">√âcole La Victoire</div>
                    <div class="logo-subtitle">ŸÖÿØÿ±ÿ≥ÿ© ÿßŸÑŸÜÿµÿ±</div>
                </div>
            </div>
            <div class="operator-info">
                <div class="language-switch">
                    <button onclick="setLanguage('fr')" class="lang-btn active" id="langFr">FR</button>
                    <button onclick="setLanguage('ar')" class="lang-btn" id="langAr">ÿπÿ±</button>
                </div>
                <span id="operatorName">Op√©ratrice: Fatima Z.</span>
                <div class="operator-avatar">FZ</div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="progress-wrapper">
        <div class="progress-bar">
            <div class="progress-line">
                <div class="progress-line-active" style="width: 83%;"></div>
            </div>
            <div class="progress-step">
                <div class="step-circle completed">‚úì</div>
                <div class="step-label">Type</div>
            </div>
            <div class="progress-step">
                <div class="step-circle completed">‚úì</div>
                <div class="step-label">√âl√®ve</div>
            </div>
            <div class="progress-step">
                <div class="step-circle completed">‚úì</div>
                <div class="step-label">Parents</div>
            </div>
            <div class="progress-step">
                <div class="step-circle completed">‚úì</div>
                <div class="step-label">Services</div>
            </div>
            <div class="progress-step">
                <div class="step-circle completed">‚úì</div>
                <div class="step-label">M√©dical</div>
            </div>
            <div class="progress-step">
                <div class="step-circle active">6</div>
                <div class="step-label">Fournitures</div>
            </div>
            <div class="progress-step">
                <div class="step-circle">7</div>
                <div class="step-label">Validation</div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main-content">
        <div class="welcome-section">
            <h1 class="welcome-title bilingual">
                <span class="fr">Liste des fournitures scolaires</span>
                <span class="ar">ŸÇÿßÿ¶ŸÖÿ© ÿßŸÑŸÑŸàÿßÿ≤ŸÖ ÿßŸÑŸÖÿØÿ±ÿ≥Ÿäÿ©</span>
            </h1>
            <p class="welcome-subtitle bilingual" id="levelSubtitle">
                <span class="fr">Pour le niveau [Niveau] - Ann√©e scolaire 2025-2026</span>
                <span class="ar">ŸÑŸÑŸÖÿ≥ÿ™ŸàŸâ [Niveau] - ÿßŸÑÿ≥ŸÜÿ© ÿßŸÑÿØÿ±ÿßÿ≥Ÿäÿ© 2025-2026</span>
            </p>
        </div>

        <form id="step6Form" class="fade-in">
            <div class="form-container">
                <!-- Informations g√©n√©rales -->
                <div class="supplies-info">
                    <div class="info-icon">üìã</div>
                    <div class="info-content">
                        <h4>Information importante</h4>
                        <p>Cochez les fournitures que vous avez d√©j√† achet√©es. Cette liste vous sera remise en PDF pour faciliter vos achats.</p>
                    </div>
                    <div class="supplies-actions">
                        <button type="button" class="btn btn-outline" id="selectAllBtn" onclick="toggleSelectAll()">
                            <span id="selectAllIcon">‚òëÔ∏è</span>
                            <span id="selectAllText" class="bilingual">
                                <span class="fr">S√©lectionner tout</span>
                                <span class="ar">ÿ™ÿ≠ÿØŸäÿØ ÿßŸÑŸÉŸÑ</span>
                            </span>
                        </button>
                    </div>
                </div>

                <!-- Liste des fournitures dynamique -->
                <div id="suppliesList" class="supplies-categories">
                    <!-- Le contenu sera g√©n√©r√© dynamiquement -->
                </div>

                <!-- R√©sum√© -->
                <div class="supplies-summary" id="suppliesSummary">
                    <h4>üìä R√©sum√©</h4>
                    <div class="summary-stats">
                        <div class="stat-item">
                            <span class="stat-number" id="totalItems">0</span>
                            <span class="stat-label">Total articles</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="acquiredItems">0</span>
                            <span class="stat-label">D√©j√† acquis</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="remainingItems">0</span>
                            <span class="stat-label">Reste √† acheter</span>
                        </div>
                    </div>
                    <div class="progress-supplies">
                        <div class="progress-bar-supplies">
                            <div class="progress-fill" id="progressFill" style="width: 0%;"></div>
                        </div>
                        <span class="progress-text" id="progressText">0% compl√©t√©</span>
                    </div>
                </div>

                <!-- Notes personnelles -->
                <div class="form-group">
                    <label class="form-label">üìù Notes personnelles sur les fournitures</label>
                    <textarea class="form-control" id="notesFournitures" rows="3" placeholder="Remarques, pr√©f√©rences de marques, ou toute information utile pour l'achat des fournitures..."></textarea>
                </div>
            </div>

            <div class="navigation-buttons">
                <button type="button" class="btn btn-secondary" onclick="goBack()">
                    <span class="fr">Pr√©c√©dent</span>
                    <span class="ar">ÿßŸÑÿ≥ÿßÿ®ŸÇ</span>
                </button>
                <button type="submit" class="btn btn-primary" id="nextBtn">
                    <span class="fr">Suivant</span>
                    <span class="ar">ÿßŸÑÿ™ÿßŸÑŸä</span>
                </button>
            </div>
        </form>
    </main>

    <script src="../js/bilingual.js"></script>
    <script>
        let currentLevel = '';
        let suppliesData = {};

        // Donn√©es des fournitures par niveau - COMPL√àTES selon sp√©cifications √âcole La Victoire
        const suppliesByLevel = {
            'PS': {
                name: 'Petite Section',
                categories: [
                    {
                        name: 'üìö Mat√©riel scolaire de base',
                        items: [
                            'Cartable adapt√© √† la taille de l\'enfant',
                            'Trousse simple',
                            'Crayons de couleur (12 couleurs)',
                            'Feutres lavables (12 couleurs)',
                            'Colle en b√¢ton (2 unit√©s)',
                            'Ciseaux √† bout rond',
                            'Ardoise blanche + 2 feutres'
                        ]
                    },
                    {
                        name: 'üé® Mat√©riel d\'√©veil',
                        items: [
                            'P√¢te √† modeler (4 pots)',
                            'Pinceaux (taille moyenne)',
                            'Tablier de peinture',
                            'Craies grasses'
                        ]
                    },
                    {
                        name: 'üß¥ Hygi√®ne et confort',
                        items: [
                            '2 bo√Ætes de mouchoirs en papier',
                            '1 paquet de lingettes humides',
                            '1 tablier en plastique',
                            '1 gobelet marqu√© au nom',
                            '1 coussin pour la sieste',
                            '1 change complet',
                            '2 photos d\'identit√©'
                        ]
                    }
                ]
            },
            'MS': {
                name: 'Moyenne Section',
                categories: [
                    {
                        name: 'üìö Mat√©riel scolaire de base',
                        items: [
                            'Cartable adapt√©',
                            '2 bo√Ætes de mouchoirs',
                            'Tablier de peinture',
                            'Crayons de couleur (12)',
                            'Colle en b√¢ton (2)',
                            'Ciseaux √† bout rond',
                            'Ardoise + 2 feutres',
                            '2 photos d\'identit√©'
                        ]
                    }
                ]
            },
            'GS': {
                name: 'Grande Section',
                categories: [
                    {
                        name: 'üìö Mat√©riel scolaire de base',
                        items: [
                            'Cartable solide',
                            'Trousse',
                            'Crayons de couleur (18)',
                            'Feutres (12)',
                            'Colle en b√¢ton (3)',
                            'Ciseaux',
                            'Ardoise + feutres',
                            'Cahier de dessin',
                            'Crayons HB (3)',
                            'Gomme'
                        ]
                    }
                ]
            },
            'CP': {
                name: 'CP',
                categories: [
                    {
                        name: 'üìö Mat√©riel scolaire de base',
                        items: [
                            'Cartable robuste',
                            'Trousse double',
                            'Crayons HB (10)',
                            'Gomme blanche',
                            'Taille-crayon',
                            'R√®gle 20cm',
                            'Ciseaux',
                            'Colle (5)',
                            'Stylos bleus (5)',
                            'Stylos rouges (2)',
                            'Cahiers grands carreaux (5)',
                            'Prot√®ge-cahiers',
                            'Crayons de couleur (24)'
                        ]
                    }
                ]
            },
            'CE1': {
                name: 'CE1',
                categories: [
                    {
                        name: 'üìö Mat√©riel scolaire de base',
                        items: [
                            'Cartable',
                            'Trousse double',
                            'Crayons HB (10)',
                            'Gomme',
                            'R√®gle 30cm',
                            'Ciseaux',
                            'Colle (6)',
                            'Surligneurs (3)',
                            'Stylos bleus (6)',
                            'Stylos rouges (3)',
                            'Cahiers 24x32 (6)',
                            'Agenda scolaire',
                            '√âquerre',
                            'Calculatrice simple'
                        ]
                    }
                ]
            },
            'CE2': {
                name: 'CE2',
                categories: [
                    {
                        name: 'üìö Mat√©riel scolaire de base',
                        items: [
                            'Cartable r√©sistant',
                            'Trousse double',
                            'Crayons HB (12)',
                            'Gomme',
                            'R√®gle 30cm',
                            'Ciseaux qualit√©',
                            'Colle (8)',
                            'Surligneurs (4)',
                            'Correcteur',
                            'Stylos bleus (8)',
                            'Stylos rouges (4)',
                            'Cahiers 24x32 (8)',
                            'Agenda scolaire',
                            '√âquerre',
                            'Compas',
                            'Calculatrice'
                        ]
                    }
                ]
            },
            'CM1': {
                name: 'CM1',
                categories: [
                    {
                        name: 'üìö Mat√©riel scolaire de base',
                        items: [
                            'Cartable solide',
                            'Trousse compartiments',
                            'Crayons HB (15)',
                            'Porte-mines + mines',
                            'Gomme',
                            'R√®gle 30cm gradu√©e',
                            '√âquerre',
                            'Compas',
                            'Ciseaux',
                            'Colle (10)',
                            'Surligneurs (5)',
                            'Correcteur',
                            'Stylos bleus (10)',
                            'Stylos rouges (5)',
                            'Stylos verts (3)',
                            'Cahiers 24x32 (10)',
                            'Agenda scolaire',
                            'Calculatrice scientifique'
                        ]
                    }
                ]
            },
            'CM2': {
                name: 'CM2',
                categories: [
                    {
                        name: 'üìö Mat√©riel scolaire de base',
                        items: [
                            'Cartable grande capacit√©',
                            'Trousse multiple',
                            'Crayons HB (15)',
                            'Porte-mines + mines',
                            'Gomme',
                            'R√®gle 30cm',
                            '√âquerre',
                            'Compas pr√©cision',
                            'Rapporteur',
                            'Ciseaux',
                            'Colle (12)',
                            'Surligneurs (6)',
                            'Correcteur (3)',
                            'Stylos bleus (12)',
                            'Stylos rouges (6)',
                            'Stylos verts (4)',
                            'Cahiers 24x32 (12)',
                            'Agenda scolaire',
                            'Calculatrice scientifique',
                            'Dictionnaire fran√ßais'
                        ]
                    }
                ]
            },
            '6√®me ann√©e': {
                name: '6√®me ann√©e',
                categories: [
                    {
                        name: 'üìö Mat√©riel scolaire complet',
                        items: [
                            'Cartable grande capacit√©',
                            'Trousse multiple',
                            'Crayons HB (20)',
                            'Porte-mines + mines',
                            'Gomme',
                            'R√®gle 30cm',
                            '√âquerre',
                            'Compas pr√©cision',
                            'Rapporteur',
                            'Ciseaux',
                            'Colle (15)',
                            'Surligneurs (8)',
                            'Correcteur (4)',
                            'Stylos bleus (15)',
                            'Stylos rouges (8)',
                            'Stylos verts (5)',
                            'Stylos noirs (5)',
                            'Cahiers 24x32 (15)',
                            'Agenda scolaire',
                            'Calculatrice scientifique',
                            'Dictionnaire fran√ßais',
                            'Atlas g√©ographique'
                        ]
                    }
                ]
            },
            'CP': {
                name: 'CP',
                categories: [
                    {
                        name: 'üìö Mat√©riel de base',
                        items: [
                            'Cartable robuste',
                            'Trousse double',
                            'Crayons de papier HB (10 unit√©s)',
                            'Gomme blanche',
                            'Taille-crayon avec r√©servoir',
                            'R√®gle 20 cm',
                            'Ciseaux √† bout rond',
                            'Colle en b√¢ton (5 unit√©s)'
                        ]
                    },
                    {
                        name: '‚úèÔ∏è √âcriture et lecture',
                        items: [
                            'Stylos bleus (5 unit√©s)',
                            'Stylos rouges (2 unit√©s)',
                            'Stylos verts (2 unit√©s)',
                            'Cahiers grands carreaux 17x22 (5 unit√©s)',
                            'Cahier de texte',
                            'Prot√®ge-cahiers (diff√©rentes couleurs)'
                        ]
                    },
                    {
                        name: 'üî¢ Math√©matiques',
                        items: [
                            'Cahier petits carreaux (3 unit√©s)',
                            '√âquerre',
                            'Mat√©riel de num√©ration'
                        ]
                    },
                    {
                        name: 'üé® Arts et loisirs',
                        items: [
                            'Crayons de couleur (24 couleurs)',
                            'Feutres (18 couleurs)',
                            'Pinceaux',
                            'Cahier de dessin A4',
                            'Feuilles blanches A4'
                        ]
                    }
                ]
            },
            'CE1': {
                name: 'CE1',
                categories: [
                    {
                        name: 'üìö Mat√©riel de base',
                        items: [
                            'Cartable ou sac √† dos',
                            'Trousse double',
                            'Crayons de papier HB (10 unit√©s)',
                            'Gomme blanche',
                            'Taille-crayon avec r√©servoir',
                            'R√®gle 30 cm',
                            'Ciseaux',
                            'Colle en b√¢ton (6 unit√©s)',
                            'Surligneurs (3 couleurs)'
                        ]
                    },
                    {
                        name: '‚úèÔ∏è √âcriture et fran√ßais',
                        items: [
                            'Stylos bleus (6 unit√©s)',
                            'Stylos rouges (3 unit√©s)',
                            'Stylos verts (3 unit√©s)',
                            'Cahiers grands carreaux 24x32 (6 unit√©s)',
                            'Cahier de brouillon',
                            'Agenda scolaire',
                            'Prot√®ge-cahiers assortis'
                        ]
                    },
                    {
                        name: 'üî¢ Math√©matiques',
                        items: [
                            'Cahiers petits carreaux (4 unit√©s)',
                            '√âquerre',
                            'Compas simple',
                            'Calculatrice simple'
                        ]
                    },
                    {
                        name: 'üé® Arts plastiques',
                        items: [
                            'Crayons de couleur (24 couleurs)',
                            'Feutres (24 couleurs)',
                            'Pinceaux vari√©s',
                            'Cahier de dessin A4',
                            'Papier canson blanc'
                        ]
                    }
                ]
            },
            'CE2': {
                name: 'CE2',
                categories: [
                    {
                        name: 'üìö Mat√©riel de base',
                        items: [
                            'Cartable ou sac √† dos r√©sistant',
                            'Trousse double compartiments',
                            'Crayons de papier HB (12 unit√©s)',
                            'Gomme blanche',
                            'Taille-crayon m√©tallique',
                            'R√®gle 30 cm gradu√©e',
                            'Ciseaux de bonne qualit√©',
                            'Colle en b√¢ton (8 unit√©s)',
                            'Surligneurs (4 couleurs)',
                            'Correcteur blanc'
                        ]
                    },
                    {
                        name: '‚úèÔ∏è √âcriture et fran√ßais',
                        items: [
                            'Stylos bleus (8 unit√©s)',
                            'Stylos rouges (4 unit√©s)',
                            'Stylos verts (4 unit√©s)',
                            'Stylos noirs (2 unit√©s)',
                            'Cahiers grands carreaux 24x32 (8 unit√©s)',
                            'Cahier de brouillon (2 unit√©s)',
                            'Agenda scolaire',
                            'Prot√®ge-cahiers transparents'
                        ]
                    },
                    {
                        name: 'üî¢ Math√©matiques',
                        items: [
                            'Cahiers petits carreaux (5 unit√©s)',
                            '√âquerre 21 cm',
                            'Compas',
                            'Rapporteur 180¬∞',
                            'Calculatrice 4 op√©rations'
                        ]
                    },
                    {
                        name: 'üé® Arts et cr√©ativit√©',
                        items: [
                            'Crayons de couleur (36 couleurs)',
                            'Feutres (24 couleurs)',
                            'Pinceaux (diff√©rentes tailles)',
                            'Cahier de dessin A4',
                            'Papier color√©',
                            'Feuilles blanches A4 (500 feuilles)'
                        ]
                    }
                ]
            },
            'CM1': {
                name: 'CM1',
                categories: [
                    {
                        name: 'üìö Mat√©riel de base',
                        items: [
                            'Cartable ou sac √† dos de qualit√©',
                            'Trousse √† compartiments',
                            'Crayons de papier HB (15 unit√©s)',
                            'Gomme blanche de qualit√©',
                            'Taille-crayon m√©tallique avec r√©servoir',
                            'R√®gle 30 cm incassable',
                            'Ciseaux de pr√©cision',
                            'Colle en b√¢ton (10 unit√©s)',
                            'Surligneurs (5 couleurs)',
                            'Correcteur blanc (2 unit√©s)'
                        ]
                    },
                    {
                        name: '‚úèÔ∏è √âcriture et fran√ßais',
                        items: [
                            'Stylos bleus (10 unit√©s)',
                            'Stylos rouges (5 unit√©s)',
                            'Stylos verts (5 unit√©s)',
                            'Stylos noirs (3 unit√©s)',
                            'Cahiers grands carreaux 24x32 (10 unit√©s)',
                            'Cahiers de brouillon (3 unit√©s)',
                            'Agenda scolaire de qualit√©',
                            'Prot√®ge-cahiers transparents (10 unit√©s)',
                            'Classeur A4 (2 unit√©s)',
                            'Feuilles mobiles grands carreaux'
                        ]
                    },
                    {
                        name: 'üî¢ Math√©matiques et g√©om√©trie',
                        items: [
                            'Cahiers petits carreaux (6 unit√©s)',
                            '√âquerre 21 cm',
                            'Compas de pr√©cision',
                            'Rapporteur 180¬∞',
                            'Calculatrice scientifique simple',
                            'Papier millim√©tr√©'
                        ]
                    },
                    {
                        name: 'üåç Sciences et g√©ographie',
                        items: [
                            'Cahiers travaux pratiques (3 unit√©s)',
                            'Feuilles de calque',
                            'Atlas g√©ographique',
                            'Loupe (optionnelle)'
                        ]
                    },
                    {
                        name: 'üé® Arts plastiques',
                        items: [
                            'Crayons de couleur professionnels (36 couleurs)',
                            'Feutres fins et √©pais',
                            'Pinceaux vari√©s',
                            'Cahier de dessin A4',
                            'Papier canson couleurs',
                            'Pochettes plastiques A4'
                        ]
                    }
                ]
            },
            'CM2': {
                name: 'CM2',
                categories: [
                    {
                        name: 'üìö Mat√©riel de base',
                        items: [
                            'Cartable ou sac √† dos robuste',
                            'Trousse professionnelle',
                            'Crayons de papier HB (20 unit√©s)',
                            'Gomme blanche de qualit√©',
                            'Taille-crayon m√©tallique professionnel',
                            'R√®gle 30 cm graduation pr√©cise',
                            'Ciseaux de pr√©cision',
                            'Colle en b√¢ton (12 unit√©s)',
                            'Surligneurs (6 couleurs)',
                            'Correcteur blanc (3 unit√©s)',
                            'Perforatrice individuelle'
                        ]
                    },
                    {
                        name: '‚úèÔ∏è √âcriture et fran√ßais',
                        items: [
                            'Stylos bleus (12 unit√©s)',
                            'Stylos rouges (6 unit√©s)',
                            'Stylos verts (6 unit√©s)',
                            'Stylos noirs (4 unit√©s)',
                            'Cahiers grands carreaux 24x32 (12 unit√©s)',
                            'Cahiers de brouillon (4 unit√©s)',
                            'Agenda scolaire professionnel',
                            'Prot√®ge-cahiers transparents (12 unit√©s)',
                            'Classeurs A4 (3 unit√©s)',
                            'Feuilles mobiles grands carreaux (500 feuilles)',
                            'Intercalaires (3 jeux)'
                        ]
                    },
                    {
                        name: 'üî¢ Math√©matiques et g√©om√©trie',
                        items: [
                            'Cahiers petits carreaux (8 unit√©s)',
                            '√âquerre 21 cm professionnelle',
                            'Compas de pr√©cision avec mine',
                            'Rapporteur 180¬∞ et 360¬∞',
                            'Calculatrice scientifique',
                            'Papier millim√©tr√© (plusieurs formats)',
                            'Gabarit g√©om√©trique'
                        ]
                    },
                    {
                        name: 'üåç Sciences et g√©ographie',
                        items: [
                            'Cahiers travaux pratiques (4 unit√©s)',
                            'Feuilles de calque A4',
                            'Atlas g√©ographique d√©taill√©',
                            'Loupe',
                            'Rapporteur g√©ographique'
                        ]
                    },
                    {
                        name: 'üé® Arts plastiques',
                        items: [
                            'Crayons de couleur aquarellables',
                            'Feutres professionnels',
                            'Pinceaux vari√©s de qualit√©',
                            'Cahier de dessin A3',
                            'Papier canson formats vari√©s',
                            'Pochettes plastiques A4 (20 unit√©s)',
                            'Porte-vues (2 unit√©s)'
                        ]
                    },
                    {
                        name: 'üíª Pr√©paration au coll√®ge',
                        items: [
                            'Cl√© USB 8 Go minimum',
                            'Dictionnaire fran√ßais',
                            'Dictionnaire fran√ßais-arabe',
                            'Bescherelle conjugaison'
                        ]
                    }
                ]
            },
            '6EME': {
                name: '6√®me',
                categories: [
                    {
                        name: 'üìö Mat√©riel de base coll√®ge',
                        items: [
                            'Sac √† dos renforc√© grand format',
                            'Trousse professionnelle √† compartiments',
                            'Crayons de papier HB (25 unit√©s)',
                            'Gomme blanche de qualit√©',
                            'Taille-crayon m√©tallique avec r√©servoir',
                            'R√®gle 30 cm incassable',
                            'Ciseaux de pr√©cision',
                            'Colle en b√¢ton (15 unit√©s)',
                            'Surligneurs (8 couleurs)',
                            'Correcteur blanc (5 unit√©s)',
                            'Perforatrice 2 trous',
                            'Agrafeuse + agrafes'
                        ]
                    },
                    {
                        name: '‚úèÔ∏è √âcriture et litt√©rature',
                        items: [
                            'Stylos bleus (15 unit√©s)',
                            'Stylos rouges (8 unit√©s)',
                            'Stylos verts (8 unit√©s)',
                            'Stylos noirs (6 unit√©s)',
                            'Cahiers grands carreaux 24x32 (15 unit√©s)',
                            'Cahiers de brouillon (5 unit√©s)',
                            'Agenda scolaire de qualit√©',
                            'Prot√®ge-cahiers transparents (15 unit√©s)',
                            'Classeurs A4 grand format (5 unit√©s)',
                            'Feuilles mobiles grands carreaux (1000 feuilles)',
                            'Intercalaires plastifi√©s (5 jeux)',
                            'Pochettes transparentes (50 unit√©s)'
                        ]
                    },
                    {
                        name: 'üî¢ Math√©matiques',
                        items: [
                            'Cahiers petits carreaux (10 unit√©s)',
                            '√âquerre 21 cm professionnelle',
                            'Compas de pr√©cision avec accessoires',
                            'Rapporteur 180¬∞ et 360¬∞',
                            'Calculatrice scientifique coll√®ge',
                            'Papier millim√©tr√© A4',
                            'Kit de g√©om√©trie complet',
                            'Feuilles de papier calque A4'
                        ]
                    },
                    {
                        name: 'üåç Sciences et g√©ographie',
                        items: [
                            'Cahiers travaux pratiques (6 unit√©s)',
                            'Blouse de laboratoire',
                            'Lunettes de protection',
                            'Atlas g√©ographique complet',
                            'Mappemonde (optionnelle)',
                            'Loupe professionnelle'
                        ]
                    },
                    {
                        name: 'üåê Langues √©trang√®res',
                        items: [
                            'Cahiers sp√©ciaux langues (4 unit√©s)',
                            'Dictionnaire fran√ßais-anglais',
                            'Dictionnaire fran√ßais-espagnol (selon choix)',
                            'CD audio ou acc√®s plateformes (selon professeur)'
                        ]
                    },
                    {
                        name: 'üé® Arts et cr√©ativit√©',
                        items: [
                            'Crayons de couleur professionnels (48 couleurs)',
                            'Feutres fins et moyens',
                            'Pinceaux vari√©s professionnels',
                            'Cahier de dessin A3',
                            'Papier canson couleurs vari√©es',
                            'Portfolio A3 pour ranger les ≈ìuvres'
                        ]
                    },
                    {
                        name: 'üíª Num√©rique et technologie',
                        items: [
                            'Cl√© USB 16 Go minimum',
                            'Dictionnaire √©lectronique (optionnel)',
                            'Tablette ou ordinateur portable (selon √©tablissement)',
                            'Casque audio'
                        ]
                    },
                    {
                        name: 'üìñ R√©f√©rences et documentation',
                        items: [
                            'Dictionnaire fran√ßais Larousse',
                            'Dictionnaire fran√ßais-arabe complet',
                            'Bescherelle conjugaison et orthographe',
                            'Atlas historique',
                            'Carnet de liaison √©cole-famille'
                        ]
                    }
                ]
            }
        };

        // V√©rifier si l'utilisateur est connect√©
        window.onload = function() {
            const operatorName = localStorage.getItem('operatorName');
            if (!operatorName) {
                window.location.href = '../index.html';
                return;
            }
            document.getElementById('operatorName').textContent = 'Op√©ratrice: ' + operatorName;
            
            // Charger les donn√©es et initialiser
            loadSavedData();
            initializeSupplies();
        };

        function initializeSupplies() {
            // R√©cup√©rer le niveau depuis localStorage
            const saved = localStorage.getItem('inscriptionData');
            if (saved) {
                const data = JSON.parse(saved);
                currentLevel = data.schoolLevel;
                
                if (currentLevel && suppliesByLevel[currentLevel]) {
                    displaySupplies(currentLevel);
                    updateSubtitle(currentLevel);
                } else {
                    // Niveau non trouv√©, afficher message d'erreur
                    document.getElementById('suppliesList').innerHTML = `
                        <div class="error-message">
                            <h4>‚ö†Ô∏è Niveau non d√©fini</h4>
                            <p>Veuillez retourner √† l'√©tape 1 pour s√©lectionner un niveau scolaire.</p>
                        </div>
                    `;
                }
            }
        }

        function updateSubtitle(level) {
            const levelData = suppliesByLevel[level];
            if (levelData) {
                document.getElementById('levelSubtitle').textContent = 
                    `Pour le niveau ${levelData.name} - Ann√©e scolaire 2025-2026`;
            }
        }

        function displaySupplies(level) {
            const levelData = suppliesByLevel[level];
            const suppliesContainer = document.getElementById('suppliesList');
            
            let html = '';
            
            levelData.categories.forEach((category, categoryIndex) => {
                html += `
                    <div class="supply-category">
                        <h4 class="category-title">${category.name}</h4>
                        <div class="supply-items">
                `;
                
                category.items.forEach((item, itemIndex) => {
                    const itemId = `item_${categoryIndex}_${itemIndex}`;
                    const isChecked = suppliesData[itemId] ? 'checked' : '';
                    
                    html += `
                        <div class="supply-item">
                            <label class="supply-label">
                                <input type="checkbox" id="${itemId}" ${isChecked} onchange="updateSuppliesData('${itemId}', this.checked)">
                                <span class="checkmark"></span>
                                <span class="item-text">${item}</span>
                            </label>
                        </div>
                    `;
                });
                
                html += `
                        </div>
                    </div>
                `;
            });
            
            suppliesContainer.innerHTML = html;
            updateSummary();
        }

        function updateSuppliesData(itemId, isChecked) {
            suppliesData[itemId] = isChecked;
            updateSummary();
        }

        function updateSummary() {
            const totalItems = document.querySelectorAll('.supply-item input[type="checkbox"]').length;
            const acquiredItems = document.querySelectorAll('.supply-item input[type="checkbox"]:checked').length;
            const remainingItems = totalItems - acquiredItems;
            const percentage = totalItems > 0 ? Math.round((acquiredItems / totalItems) * 100) : 0;
            
            document.getElementById('totalItems').textContent = totalItems;
            document.getElementById('acquiredItems').textContent = acquiredItems;
            document.getElementById('remainingItems').textContent = remainingItems;
            document.getElementById('progressFill').style.width = percentage + '%';
            document.getElementById('progressText').textContent = percentage + '% compl√©t√©';
            
            // Mettre √† jour le bouton "S√©lectionner tout"
            updateSelectAllButton();
        }

        function toggleSelectAll() {
            const checkboxes = document.querySelectorAll('.supply-item input[type="checkbox"]');
            const checkedBoxes = document.querySelectorAll('.supply-item input[type="checkbox"]:checked');
            const allChecked = checkboxes.length === checkedBoxes.length;
            
            checkboxes.forEach(checkbox => {
                const wasChecked = checkbox.checked;
                checkbox.checked = !allChecked;
                
                // Mettre √† jour suppliesData
                if (wasChecked !== checkbox.checked) {
                    suppliesData[checkbox.id] = checkbox.checked;
                }
            });
            
            updateSummary();
        }

        function updateSelectAllButton() {
            const checkboxes = document.querySelectorAll('.supply-item input[type="checkbox"]');
            const checkedBoxes = document.querySelectorAll('.supply-item input[type="checkbox"]:checked');
            const allChecked = checkboxes.length === checkedBoxes.length && checkboxes.length > 0;
            
            const selectAllBtn = document.getElementById('selectAllBtn');
            const selectAllText = document.getElementById('selectAllText');
            const selectAllIcon = document.getElementById('selectAllIcon');
            
            if (selectAllBtn && selectAllText && selectAllIcon) {
                if (allChecked) {
                    selectAllText.textContent = 'D√©s√©lectionner tout';
                    selectAllIcon.textContent = '‚òê';
                    selectAllBtn.classList.add('btn-selected');
                } else {
                    selectAllText.textContent = 'S√©lectionner tout';
                    selectAllIcon.textContent = '‚òëÔ∏è';
                    selectAllBtn.classList.remove('btn-selected');
                }
            }
        }

        function loadSavedData() {
            const saved = localStorage.getItem('inscriptionData');
            if (saved) {
                const data = JSON.parse(saved);
                
                // Charger les donn√©es des fournitures
                if (data.fournitures) {
                    suppliesData = data.fournitures;
                }
                
                // Charger les notes
                if (data.notesFournitures) {
                    document.getElementById('notesFournitures').value = data.notesFournitures;
                }
            }
        }

        function goBack() {
            window.location.href = 'step5-infos-medicales.html';
        }

        document.getElementById('step6Form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // R√©cup√©rer la liste des fournitures s√©lectionn√©es
            const selectedSupplies = [];
            const checkboxes = document.querySelectorAll('.supply-item input[type="checkbox"]:checked');
            checkboxes.forEach(checkbox => {
                const itemText = checkbox.closest('.supply-label').querySelector('.item-text').textContent;
                selectedSupplies.push(itemText);
            });
            
            // Sauvegarder les donn√©es
            const data = {
                fournitures: suppliesData,
                notesFournitures: document.getElementById('notesFournitures').value
            };
            
            // Sauvegarder s√©par√©ment les donn√©es de fournitures pour le PDF
            const suppliesDataForPDF = {
                selectedSupplies: selectedSupplies,
                totalItems: document.querySelectorAll('.supply-item input[type="checkbox"]').length,
                acquiredItems: selectedSupplies.length,
                level: currentLevel
            };
            localStorage.setItem('suppliesData', JSON.stringify(suppliesDataForPDF));
            
            // Mettre √† jour localStorage
            const saved = localStorage.getItem('inscriptionData');
            const existingData = saved ? JSON.parse(saved) : {};
            Object.assign(existingData, data);
            localStorage.setItem('inscriptionData', JSON.stringify(existingData));
            
            // Aller √† l'√©tape suivante
            window.location.href = 'step7-validation.html';
        });
    </script>

    <style>
        .supplies-info {
            background: linear-gradient(135deg, #e8f5e8 0%, #f0f8ff 100%);
            border: 1px solid #c3e6c3;
            border-radius: var(--border-radius);
            padding: 1.5rem;
            margin-bottom: 2rem;
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            gap: 1rem;
        }

        .supplies-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .btn-outline {
            background: white;
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .btn-outline:hover {
            background: var(--primary-color);
            color: white;
            transform: translateY(-1px);
        }

        .btn-outline.btn-selected {
            background: var(--success-color);
            border-color: var(--success-color);
            color: white;
        }

        .btn-outline.btn-selected:hover {
            background: #059669;
            border-color: #059669;
        }

        .info-icon {
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .info-content h4 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .info-content p {
            color: #555;
            margin: 0;
            line-height: 1.5;
        }

        .supplies-categories {
            margin-bottom: 2rem;
        }

        .supply-category {
            background: white;
            border-radius: var(--border-radius);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
        }

        .category-title {
            color: var(--primary-color);
            margin-bottom: 1rem;
            font-size: 1.2rem;
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 0.5rem;
        }

        .supply-items {
            display: grid;
            gap: 0.75rem;
        }

        .supply-item {
            padding: 0.5rem;
            border-radius: 8px;
            transition: background-color 0.2s ease;
        }

        .supply-item:hover {
            background: var(--light-gray);
        }

        .supply-label {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            cursor: pointer;
            font-size: 0.95rem;
            line-height: 1.4;
        }

        .supply-label input[type="checkbox"] {
            width: 18px;
            height: 18px;
            margin: 0;
            flex-shrink: 0;
            cursor: pointer;
        }

        .supply-label input[type="checkbox"]:checked + .checkmark + .item-text {
            color: var(--success-color);
            text-decoration: line-through;
            opacity: 0.8;
        }

        .supplies-summary {
            background: var(--light-gray);
            padding: 2rem;
            border-radius: var(--border-radius);
            margin-bottom: 2rem;
        }

        .supplies-summary h4 {
            color: var(--primary-color);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .summary-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .stat-item {
            text-align: center;
            background: white;
            padding: 1rem;
            border-radius: 8px;
        }

        .stat-number {
            display: block;
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-color);
        }

        .stat-label {
            color: var(--dark-gray);
            font-size: 0.9rem;
        }

        .progress-supplies {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .progress-bar-supplies {
            flex: 1;
            height: 12px;
            background: #e0e0e0;
            border-radius: 6px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--success-color) 0%, var(--primary-color) 100%);
            transition: width 0.5s ease;
        }

        .progress-text {
            font-weight: 600;
            color: var(--primary-color);
            white-space: nowrap;
        }

        .error-message {
            background: #fee;
            color: #dc3545;
            padding: 2rem;
            border-radius: var(--border-radius);
            text-align: center;
        }

        .error-message h4 {
            margin-bottom: 1rem;
        }

        @media (max-width: 768px) {
            .summary-stats {
                grid-template-columns: 1fr;
            }
            
            .progress-supplies {
                flex-direction: column;
                align-items: stretch;
            }
            
            .progress-text {
                text-align: center;
            }
        }
    </style>
</body>
</html>